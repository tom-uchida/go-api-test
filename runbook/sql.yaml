desc: Spanner Emulator に対してクエリを実行する

runners:
  local: spanner://test-project/test-instance/test-db

steps:
  showTables:
    desc: "テーブル一覧を確認する"
    local:
      query: |
        SELECT table_name
        FROM `INFORMATION_SCHEMA`.`TABLES`
        WHERE table_schema = '';
    test: |
      // テーブル一覧にUsersが含まれていること
      one(current.rows, {.table_name == 'Users'})
    dump:
      expr: current.rows